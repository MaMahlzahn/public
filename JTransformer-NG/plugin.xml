<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin
   id="org.cs3.jtransformer"
   name="JTransformer"
   version="2.2.0.qualifier"
   provider-name="http://roots.iai.uni-bonn.de"
   class="org.cs3.jtransformer.JTransformerPlugin">

   <runtime>
      <library name="JTransformer_NG.jar">
         <export name="*"/>
      </library>
      <library name="lib/openjgraph-0.9.2.jar">
         <export name="*"/>
      </library>
   </runtime>

   <requires>
      <import plugin="org.eclipse.ui"/>
      <import plugin="org.eclipse.core.runtime"/>
      <import plugin="org.eclipse.core.resources"/>
      <import plugin="org.eclipse.jdt.core"/>
      <import plugin="org.eclipse.jface.text"/>
      <import plugin="org.junit"/>
      <import plugin="org.eclipse.jdt.launching"/>
      <import plugin="org.eclipse.ui.ide"/>
      <import plugin="org.cs3.pdt.common"/>
      <import plugin="org.cs3.pdt"/>
      <import plugin="org.cs3.pdt.console"/>
      <import plugin="org.eclipse.ui.workbench.texteditor"/>
      <import plugin="org.cs3.pdt.runtime"/>
      <import plugin="org.cs3.pdt.common.ui"/>
      <import plugin="org.eclipse.jdt.ui"/>
      <import plugin="org.eclipse.ui.editors"/>
      <import plugin="org.cs3.pdt.core"/>

   </requires>

   <extension
         point="org.eclipse.ui.views">
      <category
            name="JTransformer"
            id="console">
      </category>
      <view
            allowMultiple="false"
            class="org.cs3.jtransformer.internal.views.PEFNavigatorView"
            icon="icons/JTransformerSmall.gif"
            category="console"
            name="PEF Navigator"
            id="org.cs3.jtransformer.internal.navigator.PEFNavigatorView"/>
   </extension>

 <extension
         id="JTransformerNature"
         name="JTransformer Nature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="org.cs3.jtransformer.internal.natures.JTransformerNature">
         </run>
      </runtime>
      <builder
            id="org.cs3.jtransformer.JTransformerProjectBuilder">
      </builder>
   </extension>
   <extension
         id="JTransformerProjectBuilder"
         name="JTransformerProjectBuilder"
         point="org.eclipse.core.resources.builders">
      <builder
            hasNature="true">
         <run
               class="org.cs3.jtransformer.internal.builders.JTransformerProjectBuilder">
         </run>
      </builder>
   </extension>
     <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            adaptable="true"
            objectClass="org.eclipse.core.resources.IProject"
            id="JTransformerProjectObjectContribution">
         <action
               label="JTransformer Nature"
               style="toggle"
               tooltip="Assignes/retracts JTransformer nature to/from a project"
               class="org.cs3.jtransformer.internal.actions.JTransformerNatureAction"
               id="JTransformerNatureAction">
         </action>
      </objectContribution>
      <viewerContribution
            id="jtransformer.viewercontribution.prologconsole"
            targetID="org.cs3.pdt.console.internal.views.PrologConsoleView">


		<action
               class="org.cs3.jtransformer.internal.actions.GotoPEFNavigatorAction"
               id="jtransformer.action.open_in_pef_navigator"
               label="Open in PEF Navigator"
               menubarPath="additions"/>

		<action
		       class="org.cs3.jtransformer.internal.actions.OpenSelectionInEditorAction"
               id="jtransformer.action.open_in_java_editor"
               label="Open in Java Editor"
               menubarPath="additions"/>


       
      </viewerContribution>
   </extension>
   
   <extension
      id="jtransformerproblem"
      point="org.eclipse.core.resources.markers">
      <super type="org.eclipse.core.resources.problemmarker"/>      
      <persistent value="true" />
   </extension>
   <extension
       point="org.eclipse.ui.preferencePages">
    <page
          class="org.cs3.jtransformer.internal.preferences.PreferencePage"
          name="JTransformer Preferences"
          id="org.cs3.jtransformer.internal.preferences.PDTPreferencePage"/>
 </extension>
 
 <extension
       point="org.eclipse.core.runtime.preferences">
    <initializer class="org.cs3.jtransformer.internal.preferences.Initializer"/>
 </extension>
 
 
<extension
       point="org.eclipse.ui.propertyPages">
    <page
          adaptable="true"
          objectClass="org.eclipse.core.resources.IProject"
          icon="icons/JTransformerSmall.gif"
          class="org.cs3.jtransformer.internal.properties.JTransformerProjectPropertyPage"
          name="JTransformer Project Properties"
          id="org.cs3.jtransformer.properties.jtransformerPropertyPage">
		  <filter
               name="nature"
               value="org.cs3.jtransformer.JTransformerNature"/>
    </page>
 </extension> 
      <extension-point id="projectlistener" name="JTransformer Project Listener" schema="schema/projectlistener.exsd"/>
 <extension
       point="org.eclipse.ui.actionSets">
    <actionSet
          label="JTransformer Actions"
          visible="true"
          id="org.cs3.jtransformer.internal.actions">
       <menu
             label="&amp;JTransformer"
             id="org.cs3.jtransformer.menus.jtransformer">
          <separator name="separator2"/>
          <separator name="separator3"/>
          <groupMarker name="group1"/>
       </menu>
       <action
             label="Open PEF Navigator"
             class="org.cs3.jtransformer.internal.actions.OpenPEFNavigatorAction"
             style="push"
             menubarPath="org.cs3.jtransformer.menus.jtransformer/separator2"
             id="org.cs3.jtransformer.internal.actions.open.pef.navigator"/>
       <action
             label="Regenerate Classes"
             class="org.cs3.jtransformer.internal.actions.RegenAction"
             style="push"
             menubarPath="org.cs3.jtransformer.menus.jtransformer/separator2"
             id="org.cs3.jtransformer.internal.actions.regenerateclasses"/>
       <action
             label="Remove all JTransformer Natures"
             class="org.cs3.jtransformer.internal.actions.RemoveAllNaturesAction"
             style="push"
             menubarPath="org.cs3.jtransformer.menus.jtransformer/separator2"
             id="org.cs3.jtransformer.internal.actions.remove.natures"/>
       <action
             class="org.cs3.jtransformer.internal.actions.AddingFactsToClipboard"
             id="org.cs3.pdt.internal.actions.addingfactstoclipboard"
             label="Generate Actions"
             menubarPath="org.cs3.jtransformer.menus.jtransformer/org.cs3.jtransformer.menus.jtransformer.selection.to.clipboard/group1"
             style="push"/>
       <action
             label="Generate Condtions"
             class="org.cs3.jtransformer.internal.actions.FactsToClipboard"
             style="push"
             menubarPath="org.cs3.jtransformer.menus.jtransformer/org.cs3.jtransformer.menus.jtransformer.selection.to.clipboard/group1"
             id="org.cs3.pdt.internal.actions.selectiontoclipboard"/>
       <menu
             id="org.cs3.jtransformer.menus.jtransformer.selection.to.clipboard"
             label="Selection to Clipboard"
             path="org.cs3.jtransformer.menus.jtransformer/group1">
          <groupMarker name="group1"/>
       </menu>
    </actionSet>
 </extension>
 <extension
       point="org.cs3.pdt.runtime.prologContextTracker">
    <tracker
          class="org.cs3.jtransformer.internal.tracker.JavaEditorTracker"
          id="org.cs3.jtransformer.internal.tracker.FollowJavaEditor"
          label="follow Java editor"/>
 </extension>
 <extension
       point="org.cs3.pdt.runtime.prologLibrary">
    <library
          alias="library"
          id="org.cs3.jtransformer.engine"
          path="engine">
       <dependency library="pdt.runtime.library.attic"/>
    </library>
 </extension>
 
  <extension point="org.eclipse.ui.decorators"> 
        <decorator
              adaptable="true"
              class="org.cs3.jtransformer.internal.decorators.JTransformerProjectDecoratorContributor"
              icon="icons/JTransformerSmall.gif"
              id="org.cs3.jtransformer.project.decorator"
              label="JTransformer Project Decorator"
              lightweight="true"
              location="TOP_LEFT"
              state="true">
            <enablement>
                <objectClass name="org.eclipse.core.resources.IProject"/> 
            </enablement>
        </decorator>
        
            
    </extension> 
 
</plugin>
